{"version":3,"sources":["../../src/pages/bookings/bookings.module.ts","../../src/pages/bookings/bookings.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { BookingsPage } from './bookings';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BookingsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(BookingsPage),\r\n  ],\r\n})\r\nexport class BookingsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bookings/bookings.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup,Validators } from '@angular/forms';\r\n\r\n/**\r\n * Generated class for the BookingsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\ndeclare var firebase;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-bookings',\r\n  templateUrl: 'bookings.html',\r\n})\r\nexport class BookingsPage {\r\n  userId;\r\n  doBookings: FormGroup;\r\n  bookingDate;\r\n  time;\r\n  flat;\r\n  email;\r\n  contact;\r\nfullname;\r\n  surname;\r\n  bookings=[];\r\n\r\n  // bookingInfo={\r\n  //   userID:'',\r\n  // key:'',\r\n  //  bookingDate:'',\r\n  //  time:''\r\n  // }\r\n\r\n  mybookingInfo={\r\n    // userID:'',\r\n    fullname:'',\r\n    surname:'',\r\n  key:'',\r\n   bookingDate:'',\r\n   time:'',\r\n   contact:'',\r\n   email:'',\r\n  }\r\n\r\n  constructor(public toastCtrl: ToastController,private fb:FormBuilder,public navCtrl: NavController, public navParams: NavParams) {\r\n    this.userId = this.navParams.get(\"userId\");\r\n    if(this.userId){\r\n      this.flat = this.navParams.get(\"flat\");\r\n    }\r\n    console.log(\"boooking user ID =\",this.userId);\r\n    this.doBookings=this.fb.group({\r\n      fullname:['',[Validators.required]],\r\n      surname:['',[Validators.required]],\r\n      contact:['',[Validators.required]],\r\n      email:['',[Validators.required]],\r\n     bookingDate:[Validators.required],\r\n     time:['',[Validators.required]],\r\n    })\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad BookingsPage');\r\n\r\nthis.bookings = [];\r\n\r\nfirebase.database().ref('/mybookingInfo/').on(\"value\",(snapshot)=>{\r\n  // this.bookings=[];\r\n  snapshot.forEach((snap)=>{\r\n\r\n console.log(snap.val());\r\n  console.log(snap.val().bookingDate + ' key ' + snap.key)\r\n    this.bookings.push({surname:snap.val().surname,name:snap.val().name,bookingDate:snap.val().bookingDate, key:snap.key,time:snap.val().time,email:snap.val().email,contact:snap.val().contact});\r\n    return false;\r\n      });\r\n      });\r\n    }\r\n\r\n\r\n\r\n//   ionViewDidLoad() {\r\n//     console.log('ionViewDidLoad BookingsPage');\r\n  \r\n//   this.bookings = [];\r\n\r\n//   firebase.database().ref('/bookingInfo/').on(\"value\",(snapshot)=>{\r\n//     // this.bookings=[];\r\n//     snapshot.forEach((snap)=>{\r\n\r\n//    console.log(snap.val());\r\n\r\n//     // this.bookings.push(snap.val());\r\n//     console.log(snap.val().bookingDate + ' key ' + snap.key)\r\n//       this.bookings.push({bookingDate:snap.val().bookingDate, key:snap.key,time:snap.val().time});\r\n\r\n\r\n\r\n      \r\n//    return false;\r\n//   });\r\n//   });\r\n// }\r\n\r\n// writeBooking(){\r\n//   console.log(this.bookingDate,this.time);\r\n//   this.bookingInfo.userID = this.userId;\r\n//   this.bookingInfo.bookingDate=this.bookingDate;\r\n//   this.bookingInfo.time=this.time;\r\n//   var database = firebase.database();\r\n//   database.ref('/bookingInfo').push(this.bookingInfo);\r\n\r\n\r\n// }\r\n\r\n// removeBookings(booking){\r\n//   var database = firebase.database();\r\n//   database.ref('/bookingInfo/').remove();\r\n  \r\n\r\n//   this.bookings = [];\r\n\r\n\r\n// }\r\n// update(booking){\r\n//   this.navCtrl.push(\"UpdatePage\",{booking:booking});\r\n// }  \r\n\r\n\r\n// ViewPage(){\r\n//   this.navCtrl.push(\"WelcomePage\");\r\n// }\r\n\r\n\r\nbookingDetails(){\r\n\r\n  this.bookings = [];\r\n\r\n  console.log(this.bookingDate,this.time);\r\n  // this.bookingInfo.userID = this.userId;\r\n  this.mybookingInfo.fullname=this.fullname;\r\n  this.mybookingInfo.surname=this.surname;\r\n  this.mybookingInfo.bookingDate=this.bookingDate;\r\n  this.mybookingInfo.time=this.time;\r\n  this.mybookingInfo.email=this.email;\r\n  this.mybookingInfo.contact=this.contact;\r\n  var database = firebase.database();\r\n  // database.ref('/mybookingInfo').push({ surname:  this.mybookingInfo.surname,fullname:this.mybookingInfo.fullname,bookingDate:this.mybookingInfo.bookingDate,time:this.mybookingInfo.time,email:  this.mybookingInfo.email,contact:this.mybookingInfo.contact});\r\n  database.ref('/mybookingInfo').push(this.mybookingInfo);\r\n\r\n\r\n   this.navCtrl.push(\"WelcomePage\")\r\n\r\n  let toast = this.toastCtrl.create({\r\n        message: 'Booking successfully uploaded.',\r\n        duration: 3000,\r\n        position: 'middle'\r\n      });\r\n      toast.present();\r\n      console.log('inside toast if')\r\n  \r\n}\r\n}\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bookings/bookings.ts"],"sourceRoot":""}